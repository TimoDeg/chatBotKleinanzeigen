2025-11-28T22:36:05 | INFO     | src.utils:setup_logging | Logging initialized
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | Kleinanzeigen Message & Offer Bot
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | URL: https://www.kleinanzeigen.de/s-anzeige/baba-ddr5-ram/3259103117-225-4564
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | Email: degtyarevsemen@gmail.com
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | Message: Ist noch verfügbar?...
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | Offer: €100.0, Delivery: pickup
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | Headless: False
2025-11-28T22:36:05 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:36:05 | INFO     | src.bot:__init__ | Bot initialized (headless=False)
2025-11-28T22:36:05 | INFO     | src.bot:setup_browser | Setting up browser with anti-detection...
2025-11-28T22:36:06 | INFO     | src.bot:setup_browser | ✅ Cookies geladen
2025-11-28T22:36:07 | INFO     | src.bot:setup_browser | ✅ Browser setup erfolgreich
2025-11-28T22:36:07 | INFO     | src.bot:authenticate | Navigating directly to login page...
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: FPLC
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _lr_geo_location
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: zsc
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: admtr
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: lidc
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: TPC
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects271
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: rc
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1690576109
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1337645486
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1089243121
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1856549281
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1170752139
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1388357392
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1475507400
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: pubsyncexp
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects200
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects280414
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _sv3_7
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: __kuid
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_mi
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ak_bmsc
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ak_bmsc
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _uetsid
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _clsk
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sz
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sv
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: tis_lhY
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sv
2025-11-28T22:36:09 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ac_r
2025-11-28T22:36:09 | INFO     | src.auth:load_cookies | ✅ Cookies loaded from ./cookies.json (329 valid cookies)
2025-11-28T22:36:11 | DEBUG    | src.bot:authenticate | Cookies invalid, performing fresh login...
2025-11-28T22:36:11 | INFO     | src.auth:login | Starting login process...
2025-11-28T22:36:11 | INFO     | src.auth:login | Accepting cookie banner...
2025-11-28T22:36:11 | DEBUG    | src.auth:accept_cookie_banner | Checking for cookie banner...
2025-11-28T22:36:11 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button:has-text('Alle akzeptieren')
2025-11-28T22:36:14 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button:has-text('Alle akzeptieren')
2025-11-28T22:36:14 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button:has-text('Akzeptieren')
2025-11-28T22:36:17 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button:has-text('Akzeptieren')
2025-11-28T22:36:17 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button[id*='accept']
2025-11-28T22:36:20 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button[id*='accept']
2025-11-28T22:36:20 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button[class*='accept']
2025-11-28T22:36:23 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button[class*='accept']
2025-11-28T22:36:23 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: [data-testid*='cookie-banner-accept']
2025-11-28T22:36:26 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: [data-testid*='cookie-banner-accept']
2025-11-28T22:36:26 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: [data-qa*='cookie-banner-accept']
2025-11-28T22:36:29 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: [data-qa*='cookie-banner-accept']
2025-11-28T22:36:29 | WARNING  | src.utils:wait_for_selector_with_fallbacks | None of the selectors matched: ["button:has-text('Alle akzeptieren')", "button:has-text('Akzeptieren')", "button[id*='accept']", "button[class*='accept']", "[data-testid*='cookie-banner-accept']", "[data-qa*='cookie-banner-accept']"]
2025-11-28T22:36:29 | ERROR    | src.utils:safe_click | Could not find cookie banner to click
2025-11-28T22:36:29 | INFO     | src.auth:login | On login page, ready to fill credentials...
2025-11-28T22:36:29 | INFO     | src.auth:login | Filling email...
2025-11-28T22:36:29 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[name='email']
2025-11-28T22:36:39 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: input[name='email']
2025-11-28T22:36:39 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[type='email']
2025-11-28T22:36:39 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Found element with selector: input[type='email']
2025-11-28T22:36:39 | DEBUG    | src.utils:safe_fill | Filled email field with: degtyarevsemen@gmail.com...
2025-11-28T22:36:39 | INFO     | src.auth:login | Waiting 1 second before password...
2025-11-28T22:36:40 | INFO     | src.auth:login | Filling password...
2025-11-28T22:36:40 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[name='password']
2025-11-28T22:36:40 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Found element with selector: input[name='password']
2025-11-28T22:36:40 | DEBUG    | src.utils:safe_fill | Filled password field with: SamD1990*...
2025-11-28T22:36:40 | INFO     | src.auth:login | Waiting 2 seconds before clicking login button...
2025-11-28T22:36:42 | INFO     | src.auth:login | Submitting login form...
2025-11-28T22:36:42 | DEBUG    | src.auth:login | Trying submit selector: button#login-submit
2025-11-28T22:36:42 | DEBUG    | src.auth:login | Submit button found - visible: True, enabled: True
2025-11-28T22:36:42 | INFO     | src.auth:login | ✅ Submit button clicked with: button#login-submit
2025-11-28T22:36:42 | INFO     | src.auth:login | Waiting for login to complete...
2025-11-28T22:36:44 | DEBUG    | src.auth:login | Initial URL: https://www.kleinanzeigen.de/m-einloggen.html
2025-11-28T22:36:55 | WARNING  | src.auth:login | URL did not change after login attempt
2025-11-28T22:37:03 | INFO     | src.auth:login | Current URL after login attempt: https://www.kleinanzeigen.de/m-einloggen.html
2025-11-28T22:37:03 | INFO     | src.auth:login | Checking if login was successful (even if URL didn't change)...
2025-11-28T22:37:24 | WARNING  | src.auth:login | Still on login page, checking if login actually failed...
2025-11-28T22:37:36 | WARNING  | src.auth:login | ⚠️ No error found, but still on login page - might be CAPTCHA or slow redirect
2025-11-28T22:37:36 | DEBUG    | src.utils:take_screenshot | Screenshot saved: ./screenshots/login_still_on_page_20251128_223736.png
2025-11-28T22:37:36 | ERROR    | src.bot:authenticate | ❌ Authentication failed
2025-11-28T22:37:37 | INFO     | src.bot:close | Browser closed
2025-11-28T22:37:37 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:37:37 | INFO     | __main__:send_and_offer | Workflow Results:
2025-11-28T22:37:37 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:37:37 | INFO     | __main__:send_and_offer | Success: ❌
2025-11-28T22:37:37 | INFO     | __main__:send_and_offer | Steps Completed: browser_setup
2025-11-28T22:37:37 | ERROR    | __main__:send_and_offer | Errors: Login fehlgeschlagen
2025-11-28T22:37:37 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:37:37 | ERROR    | __main__:send_and_offer | ❌ Workflow failed with exit code: 1
2025-11-28T22:43:53 | INFO     | src.utils:setup_logging | Logging initialized
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | Kleinanzeigen Message & Offer Bot
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | URL: https://www.kleinanzeigen.de/s-anzeige/baba-ddr5-ram/3259103117-225-4564
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | Email: degtyarevsemen@gmail.com
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | Message: Ist noch verfügbar?...
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | Offer: €100.0, Delivery: pickup
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | Headless: False
2025-11-28T22:43:53 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:43:53 | INFO     | src.bot:__init__ | Bot initialized (headless=False)
2025-11-28T22:43:53 | INFO     | src.bot:setup_browser | Setting up browser with anti-detection...
2025-11-28T22:43:55 | INFO     | src.bot:setup_browser | ✅ Cookies geladen
2025-11-28T22:43:56 | INFO     | src.bot:setup_browser | ✅ Browser setup erfolgreich
2025-11-28T22:43:56 | INFO     | src.bot:authenticate | Navigating directly to login page...
2025-11-28T22:44:15 | ERROR    | src.bot:execute_full_workflow | ❌ Workflow exception: Page.goto: net::ERR_ABORTED; maybe frame was detached?
Call log:
  - navigating to "https://www.kleinanzeigen.de/m-einloggen.html", waiting until "domcontentloaded"

2025-11-28T22:44:15 | INFO     | src.bot:close | Browser closed
2025-11-28T22:44:15 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:44:15 | INFO     | __main__:send_and_offer | Workflow Results:
2025-11-28T22:44:15 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:44:15 | INFO     | __main__:send_and_offer | Success: ❌
2025-11-28T22:44:15 | INFO     | __main__:send_and_offer | Steps Completed: browser_setup
2025-11-28T22:44:15 | ERROR    | __main__:send_and_offer | Errors: Page.goto: net::ERR_ABORTED; maybe frame was detached?
Call log:
  - navigating to "https://www.kleinanzeigen.de/m-einloggen.html", waiting until "domcontentloaded"

2025-11-28T22:44:15 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:44:15 | ERROR    | __main__:send_and_offer | ❌ Workflow failed with exit code: 5
2025-11-28T22:44:46 | INFO     | src.utils:setup_logging | Logging initialized
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | Kleinanzeigen Message & Offer Bot
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | URL: https://www.kleinanzeigen.de/s-anzeige/baba-ddr5-ram/3259103117-225-4564
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | Email: degtyarevsemen@gmail.com
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | Message: Ist noch verfügbar?...
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | Offer: €100.0, Delivery: pickup
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | Headless: False
2025-11-28T22:44:46 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:44:46 | INFO     | src.bot:__init__ | Bot initialized (headless=False)
2025-11-28T22:44:46 | INFO     | src.bot:setup_browser | Setting up browser with anti-detection...
2025-11-28T22:44:47 | INFO     | src.bot:setup_browser | ✅ Cookies geladen
2025-11-28T22:44:48 | INFO     | src.bot:setup_browser | ✅ Browser setup erfolgreich
2025-11-28T22:44:48 | INFO     | src.bot:authenticate | Navigating directly to login page...
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: FPLC
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _lr_geo_location
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: zsc
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: admtr
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: lidc
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: TPC
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects271
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: rc
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1690576109
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1337645486
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1089243121
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1856549281
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1170752139
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1388357392
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1475507400
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: pubsyncexp
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects200
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects280414
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _sv3_7
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: __kuid
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_mi
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ak_bmsc
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ak_bmsc
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _uetsid
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _clsk
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sz
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sv
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: tis_lhY
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sv
2025-11-28T22:44:51 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ac_r
2025-11-28T22:44:51 | INFO     | src.auth:load_cookies | ✅ Cookies loaded from ./cookies.json (329 valid cookies)
2025-11-28T22:44:53 | DEBUG    | src.bot:authenticate | Cookies invalid, performing fresh login...
2025-11-28T22:44:53 | INFO     | src.auth:login | Starting login process...
2025-11-28T22:44:53 | INFO     | src.auth:login | Accepting cookie banner...
2025-11-28T22:44:53 | DEBUG    | src.auth:accept_cookie_banner | Checking for cookie banner...
2025-11-28T22:44:53 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button:has-text('Alle akzeptieren')
2025-11-28T22:44:56 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button:has-text('Alle akzeptieren')
2025-11-28T22:44:56 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button:has-text('Akzeptieren')
2025-11-28T22:44:59 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button:has-text('Akzeptieren')
2025-11-28T22:44:59 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button[id*='accept']
2025-11-28T22:45:02 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button[id*='accept']
2025-11-28T22:45:02 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button[class*='accept']
2025-11-28T22:45:05 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button[class*='accept']
2025-11-28T22:45:05 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: [data-testid*='cookie-banner-accept']
2025-11-28T22:45:08 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: [data-testid*='cookie-banner-accept']
2025-11-28T22:45:08 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: [data-qa*='cookie-banner-accept']
2025-11-28T22:45:11 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: [data-qa*='cookie-banner-accept']
2025-11-28T22:45:11 | WARNING  | src.utils:wait_for_selector_with_fallbacks | None of the selectors matched: ["button:has-text('Alle akzeptieren')", "button:has-text('Akzeptieren')", "button[id*='accept']", "button[class*='accept']", "[data-testid*='cookie-banner-accept']", "[data-qa*='cookie-banner-accept']"]
2025-11-28T22:45:11 | ERROR    | src.utils:safe_click | Could not find cookie banner to click
2025-11-28T22:45:11 | INFO     | src.auth:login | On login page, ready to fill credentials...
2025-11-28T22:45:11 | INFO     | src.auth:login | Filling email...
2025-11-28T22:45:11 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[name='email']
2025-11-28T22:45:21 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: input[name='email']
2025-11-28T22:45:21 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[type='email']
2025-11-28T22:45:21 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Found element with selector: input[type='email']
2025-11-28T22:45:21 | DEBUG    | src.utils:safe_fill | Filled email field with: degtyarevsemen@gmail.com...
2025-11-28T22:45:21 | INFO     | src.auth:login | Waiting 1 second before password...
2025-11-28T22:45:22 | INFO     | src.auth:login | Filling password...
2025-11-28T22:45:22 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[name='password']
2025-11-28T22:45:22 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Found element with selector: input[name='password']
2025-11-28T22:45:22 | DEBUG    | src.utils:safe_fill | Filled password field with: SamD1990*...
2025-11-28T22:45:22 | INFO     | src.auth:login | Waiting 2 seconds before clicking login button...
2025-11-28T22:45:24 | INFO     | src.auth:login | Submitting login form...
2025-11-28T22:45:24 | DEBUG    | src.auth:login | Trying submit selector: button#login-submit
2025-11-28T22:45:24 | DEBUG    | src.auth:login | Submit button found - visible: True, enabled: True
2025-11-28T22:45:28 | INFO     | src.auth:login | ✅ Submit button clicked with: button#login-submit
2025-11-28T22:45:28 | INFO     | src.auth:login | Waiting for login to complete...
2025-11-28T22:45:30 | DEBUG    | src.auth:login | Initial URL: https://www.kleinanzeigen.de/m-einloggen.html
2025-11-28T22:45:41 | WARNING  | src.auth:login | URL did not change after login attempt
2025-11-28T22:49:23 | INFO     | src.utils:setup_logging | Logging initialized
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | Kleinanzeigen Message & Offer Bot
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | URL: https://www.kleinanzeigen.de/s-anzeige/baba-ddr5-ram/3259103117-225-4564
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | Email: degtyarevsemen@gmail.com
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | Message: Ist noch verfügbar?...
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | Offer: €100.0, Delivery: pickup
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | Headless: False
2025-11-28T22:49:23 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:49:23 | INFO     | src.bot:__init__ | Bot initialized (headless=False)
2025-11-28T22:49:23 | INFO     | src.bot:setup_browser | Setting up browser with anti-detection...
2025-11-28T22:49:24 | INFO     | src.bot:setup_browser | ✅ Cookies geladen
2025-11-28T22:49:25 | INFO     | src.bot:setup_browser | ✅ Browser setup erfolgreich
2025-11-28T22:49:25 | INFO     | src.bot:authenticate | Navigating directly to login page...
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: FPLC
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _lr_geo_location
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: zsc
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: admtr
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: lidc
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: TPC
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects271
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: rc
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1690576109
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1337645486
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1089243121
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1856549281
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1170752139
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1388357392
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1475507400
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: pubsyncexp
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects200
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects280414
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _sv3_7
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: __kuid
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_mi
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ak_bmsc
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ak_bmsc
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _uetsid
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _clsk
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sz
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sv
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: tis_lhY
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sv
2025-11-28T22:49:27 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ac_r
2025-11-28T22:49:27 | INFO     | src.auth:load_cookies | ✅ Cookies loaded from ./cookies.json (329 valid cookies)
2025-11-28T22:49:29 | DEBUG    | src.bot:authenticate | Cookies invalid, performing fresh login...
2025-11-28T22:49:29 | INFO     | src.auth:login | Starting login process...
2025-11-28T22:49:29 | INFO     | src.auth:login | Accepting cookie banner...
2025-11-28T22:49:29 | DEBUG    | src.auth:accept_cookie_banner | Checking for cookie banner...
2025-11-28T22:49:29 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button:has-text('Alle akzeptieren')
2025-11-28T22:49:32 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button:has-text('Alle akzeptieren')
2025-11-28T22:49:32 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button:has-text('Akzeptieren')
2025-11-28T22:49:35 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button:has-text('Akzeptieren')
2025-11-28T22:49:35 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button[id*='accept']
2025-11-28T22:49:38 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button[id*='accept']
2025-11-28T22:49:38 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button[class*='accept']
2025-11-28T22:49:41 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button[class*='accept']
2025-11-28T22:49:41 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: [data-testid*='cookie-banner-accept']
2025-11-28T22:49:44 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: [data-testid*='cookie-banner-accept']
2025-11-28T22:49:44 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: [data-qa*='cookie-banner-accept']
2025-11-28T22:49:47 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: [data-qa*='cookie-banner-accept']
2025-11-28T22:49:47 | WARNING  | src.utils:wait_for_selector_with_fallbacks | None of the selectors matched: ["button:has-text('Alle akzeptieren')", "button:has-text('Akzeptieren')", "button[id*='accept']", "button[class*='accept']", "[data-testid*='cookie-banner-accept']", "[data-qa*='cookie-banner-accept']"]
2025-11-28T22:49:47 | ERROR    | src.utils:safe_click | Could not find cookie banner to click
2025-11-28T22:49:47 | INFO     | src.auth:login | On login page, ready to fill credentials...
2025-11-28T22:49:47 | INFO     | src.auth:login | Filling email...
2025-11-28T22:49:47 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[name='email']
2025-11-28T22:49:57 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: input[name='email']
2025-11-28T22:49:57 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[type='email']
2025-11-28T22:49:57 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Found element with selector: input[type='email']
2025-11-28T22:49:57 | DEBUG    | src.utils:safe_fill | Filled email field with: degtyarevsemen@gmail.com...
2025-11-28T22:49:57 | INFO     | src.auth:login | Waiting 1 second before password...
2025-11-28T22:49:58 | INFO     | src.auth:login | Filling password...
2025-11-28T22:49:58 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[name='password']
2025-11-28T22:49:58 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Found element with selector: input[name='password']
2025-11-28T22:49:58 | DEBUG    | src.utils:safe_fill | Filled password field with: SamD1990*...
2025-11-28T22:49:58 | INFO     | src.auth:login | Waiting 2 seconds before clicking login button...
2025-11-28T22:50:00 | INFO     | src.auth:login | Submitting login form...
2025-11-28T22:50:00 | DEBUG    | src.auth:login | Trying submit selector: button#login-submit
2025-11-28T22:50:00 | DEBUG    | src.auth:login | Submit button found - visible: True, enabled: True
2025-11-28T22:50:05 | DEBUG    | src.auth:login | Normal click failed: ElementHandle.click: Timeout 5000ms exceeded.
Call log:
  - attempting click action
    - waiting for element to be visible, enabled and stable
    - element is visible, enabled and stable
    - scrolling into view if needed
    - done scrolling
    - performing click action
    - click action done
    - waiting for scheduled navigations to finish
, trying JavaScript click...
2025-11-28T22:50:37 | DEBUG    | src.auth:login | JavaScript click also failed: ElementHandle.evaluate: Execution context was destroyed, most likely because of a navigation, trying force click...
2025-11-28T22:50:37 | DEBUG    | src.auth:login | Force click also failed: ElementHandle.click: Protocol error (DOM.scrollIntoViewIfNeeded): Cannot find context with specified id
Call log:
  - attempting click action
    - scrolling into view if needed

2025-11-28T22:50:37 | DEBUG    | src.auth:login | Trying submit selector: #login-submit
2025-11-28T22:50:42 | DEBUG    | src.auth:login | Submit selector failed: #login-submit - Page.wait_for_selector: Timeout 5000ms exceeded.
Call log:
  - waiting for locator("#login-submit") to be visible

2025-11-28T22:50:42 | DEBUG    | src.auth:login | Trying submit selector: button[id='login-submit']
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Submit selector failed: button[id='login-submit'] - Page.wait_for_selector: Target page, context or browser has been closed
Call log:
  - waiting for locator("button[id='login-submit']") to be visible

2025-11-28T22:50:45 | DEBUG    | src.auth:login | Trying submit selector: button.button[type='submit']
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Submit selector failed: button.button[type='submit'] - Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Trying submit selector: button[type='submit']:has(span:has-text('Einloggen'))
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Submit selector failed: button[type='submit']:has(span:has-text('Einloggen')) - Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Trying submit selector: button:has-text('Einloggen')
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Submit selector failed: button:has-text('Einloggen') - Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Trying submit selector: button[type='submit']
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Submit selector failed: button[type='submit'] - Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Trying submit selector: button:has-text('Anmelden')
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Submit selector failed: button:has-text('Anmelden') - Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Trying submit selector: [data-testid*='login-submit']
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Submit selector failed: [data-testid*='login-submit'] - Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Trying submit selector: [data-qa*='login-submit']
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Submit selector failed: [data-qa*='login-submit'] - Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | WARNING  | src.auth:login | Standard submit button not found, trying alternatives...
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Enter on password field failed: Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Alternative submit button failed: Page.wait_for_selector: Target page, context or browser has been closed
2025-11-28T22:50:45 | DEBUG    | src.auth:login | JavaScript submit search failed: Page.query_selector_all: Target page, context or browser has been closed
2025-11-28T22:50:45 | WARNING  | src.auth:login | All submit methods failed, trying Enter key as last resort...
2025-11-28T22:50:45 | DEBUG    | src.auth:login | Enter key failed: Keyboard.press: Target page, context or browser has been closed
2025-11-28T22:50:45 | ERROR    | src.auth:login | ❌ Failed to submit login form
2025-11-28T22:50:45 | ERROR    | src.utils:take_screenshot | Failed to take screenshot: Page.screenshot: Target page, context or browser has been closed
2025-11-28T22:50:45 | ERROR    | src.bot:authenticate | ❌ Authentication failed
2025-11-28T22:50:46 | INFO     | src.bot:close | Browser closed
2025-11-28T22:50:46 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:50:46 | INFO     | __main__:send_and_offer | Workflow Results:
2025-11-28T22:50:46 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:50:46 | INFO     | __main__:send_and_offer | Success: ❌
2025-11-28T22:50:46 | INFO     | __main__:send_and_offer | Steps Completed: browser_setup
2025-11-28T22:50:46 | ERROR    | __main__:send_and_offer | Errors: Login fehlgeschlagen
2025-11-28T22:50:46 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:50:46 | ERROR    | __main__:send_and_offer | ❌ Workflow failed with exit code: 1
2025-11-28T22:51:43 | INFO     | src.utils:setup_logging | Logging initialized
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | Kleinanzeigen Message & Offer Bot
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | URL: https://www.kleinanzeigen.de/s-anzeige/baba-ddr5-ram/3259103117-225-4564
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | Email: degtyarevsemen@gmail.com
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | Message: Ist noch verfügbar?...
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | Offer: €100.0, Delivery: pickup
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | Headless: False
2025-11-28T22:51:43 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:51:43 | INFO     | src.bot:__init__ | Bot initialized (headless=False)
2025-11-28T22:51:43 | INFO     | src.bot:setup_browser | Setting up browser with anti-detection...
2025-11-28T22:51:44 | INFO     | src.bot:setup_browser | ✅ Cookies geladen
2025-11-28T22:51:45 | INFO     | src.bot:setup_browser | ✅ Browser setup erfolgreich
2025-11-28T22:51:45 | INFO     | src.bot:authenticate | Navigating directly to login page...
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: FPLC
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _lr_geo_location
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: zsc
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: admtr
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: lidc
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: TPC
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects271
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: rc
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1690576109
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1337645486
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1089243121
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1856549281
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1170752139
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1388357392
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ignore_69937_1475507400
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: pubsyncexp
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects200
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: done_redirects280414
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _sv3_7
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: __kuid
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: MR
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_mi
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ak_bmsc
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ak_bmsc
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _uetsid
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: _clsk
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sz
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sv
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: tis_lhY
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: bm_sv
2025-11-28T22:51:47 | DEBUG    | src.auth:load_cookies | Extended expiration for cookie: ac_r
2025-11-28T22:51:47 | INFO     | src.auth:load_cookies | ✅ Cookies loaded from ./cookies.json (329 valid cookies)
2025-11-28T22:51:49 | DEBUG    | src.bot:authenticate | Cookies invalid, performing fresh login...
2025-11-28T22:51:49 | INFO     | src.auth:login | Starting login process...
2025-11-28T22:51:49 | INFO     | src.auth:login | Accepting cookie banner...
2025-11-28T22:51:49 | DEBUG    | src.auth:accept_cookie_banner | Checking for cookie banner...
2025-11-28T22:51:49 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button:has-text('Alle akzeptieren')
2025-11-28T22:51:52 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button:has-text('Alle akzeptieren')
2025-11-28T22:51:52 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button:has-text('Akzeptieren')
2025-11-28T22:51:55 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button:has-text('Akzeptieren')
2025-11-28T22:51:55 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button[id*='accept']
2025-11-28T22:51:58 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button[id*='accept']
2025-11-28T22:51:58 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: button[class*='accept']
2025-11-28T22:52:01 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: button[class*='accept']
2025-11-28T22:52:01 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: [data-testid*='cookie-banner-accept']
2025-11-28T22:52:04 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: [data-testid*='cookie-banner-accept']
2025-11-28T22:52:04 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: [data-qa*='cookie-banner-accept']
2025-11-28T22:52:07 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: [data-qa*='cookie-banner-accept']
2025-11-28T22:52:07 | WARNING  | src.utils:wait_for_selector_with_fallbacks | None of the selectors matched: ["button:has-text('Alle akzeptieren')", "button:has-text('Akzeptieren')", "button[id*='accept']", "button[class*='accept']", "[data-testid*='cookie-banner-accept']", "[data-qa*='cookie-banner-accept']"]
2025-11-28T22:52:07 | ERROR    | src.utils:safe_click | Could not find cookie banner to click
2025-11-28T22:52:07 | INFO     | src.auth:login | On login page, ready to fill credentials...
2025-11-28T22:52:07 | INFO     | src.auth:login | Filling email...
2025-11-28T22:52:07 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[name='email']
2025-11-28T22:52:17 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Selector not found: input[name='email']
2025-11-28T22:52:17 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[type='email']
2025-11-28T22:52:17 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Found element with selector: input[type='email']
2025-11-28T22:52:17 | DEBUG    | src.utils:safe_fill | Filled email field with: degtyarevsemen@gmail.com...
2025-11-28T22:52:17 | INFO     | src.auth:login | Waiting 1 second before password...
2025-11-28T22:52:18 | INFO     | src.auth:login | Filling password...
2025-11-28T22:52:18 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Trying selector: input[name='password']
2025-11-28T22:52:18 | DEBUG    | src.utils:wait_for_selector_with_fallbacks | Found element with selector: input[name='password']
2025-11-28T22:52:18 | DEBUG    | src.utils:safe_fill | Filled password field with: SamD1990*...
2025-11-28T22:52:18 | INFO     | src.auth:login | Waiting 2 seconds before clicking login button...
2025-11-28T22:52:20 | INFO     | src.auth:login | Submitting login form...
2025-11-28T22:52:20 | DEBUG    | src.auth:login | Trying submit selector: button#login-submit
2025-11-28T22:52:20 | DEBUG    | src.auth:login | Submit button found - visible: True, enabled: True
2025-11-28T22:52:22 | INFO     | src.auth:login | ✅ Submit button clicked with: button#login-submit
2025-11-28T22:52:22 | INFO     | src.auth:login | Waiting for login to complete...
2025-11-28T22:52:24 | DEBUG    | src.auth:login | Initial URL: https://www.kleinanzeigen.de/m-meine-anzeigen.html?login=success
2025-11-28T22:52:34 | WARNING  | src.auth:login | URL did not change after login attempt
2025-11-28T22:52:42 | INFO     | src.auth:login | Current URL after login attempt: https://www.kleinanzeigen.de/m-meine-anzeigen.html?login=success
2025-11-28T22:52:42 | INFO     | src.auth:login | Checking if login was successful (even if URL didn't change)...
2025-11-28T22:52:51 | WARNING  | src.auth:login | Still on login page, checking if login actually failed...
2025-11-28T22:52:51 | WARNING  | src.auth:login | ⚠️ No error found, but still on login page - might be CAPTCHA or slow redirect
2025-11-28T22:52:51 | ERROR    | src.utils:take_screenshot | Failed to take screenshot: Page.screenshot: Target page, context or browser has been closed
2025-11-28T22:52:51 | ERROR    | src.bot:authenticate | ❌ Authentication failed
2025-11-28T22:52:52 | INFO     | src.bot:close | Browser closed
2025-11-28T22:52:52 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:52:52 | INFO     | __main__:send_and_offer | Workflow Results:
2025-11-28T22:52:52 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:52:52 | INFO     | __main__:send_and_offer | Success: ❌
2025-11-28T22:52:52 | INFO     | __main__:send_and_offer | Steps Completed: browser_setup
2025-11-28T22:52:52 | ERROR    | __main__:send_and_offer | Errors: Login fehlgeschlagen
2025-11-28T22:52:52 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:52:52 | ERROR    | __main__:send_and_offer | ❌ Workflow failed with exit code: 1
2025-11-28T22:53:32 | INFO     | src.utils:setup_logging | Logging initialized
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | Kleinanzeigen Message & Offer Bot
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | URL: https://www.kleinanzeigen.de/s-anzeige/baba-ddr5-ram/3259103117-225-4564
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | Email: degtyarevsemen@gmail.com
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | Message: Ist noch verfügbar?...
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | Offer: €100.0, Delivery: pickup
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | Headless: False
2025-11-28T22:53:32 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:53:32 | INFO     | src.bot:__init__ | Bot initialized (headless=False)
2025-11-28T22:53:32 | INFO     | src.bot:setup_browser | Setting up browser with anti-detection...
2025-11-28T22:53:34 | INFO     | src.bot:setup_browser | ✅ Cookies geladen
2025-11-28T22:53:35 | INFO     | src.bot:setup_browser | ✅ Browser setup erfolgreich
2025-11-28T22:53:35 | INFO     | src.bot:authenticate | Navigating directly to login page...
2025-11-28T22:53:44 | ERROR    | src.bot:execute_full_workflow | ❌ Workflow exception: Page.goto: net::ERR_ABORTED; maybe frame was detached?
Call log:
  - navigating to "https://www.kleinanzeigen.de/m-einloggen.html", waiting until "domcontentloaded"

2025-11-28T22:53:45 | INFO     | src.bot:close | Browser closed
2025-11-28T22:53:45 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:53:45 | INFO     | __main__:send_and_offer | Workflow Results:
2025-11-28T22:53:45 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:53:45 | INFO     | __main__:send_and_offer | Success: ❌
2025-11-28T22:53:45 | INFO     | __main__:send_and_offer | Steps Completed: browser_setup
2025-11-28T22:53:45 | ERROR    | __main__:send_and_offer | Errors: Page.goto: net::ERR_ABORTED; maybe frame was detached?
Call log:
  - navigating to "https://www.kleinanzeigen.de/m-einloggen.html", waiting until "domcontentloaded"

2025-11-28T22:53:45 | INFO     | __main__:send_and_offer | ============================================================
2025-11-28T22:53:45 | ERROR    | __main__:send_and_offer | ❌ Workflow failed with exit code: 5
